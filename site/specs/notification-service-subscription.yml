openapi: 3.1.0
info:
  title: Subscription API
  version: '1.0'
  description: >-
    Bandwidth uses callbacks to send porting events to any publicly addressable
    url.


    In order to successfully use the Porting APIs you need to configure a
    subscription for each eventType. Each subscription is account-global and
    each account can have multiple subscriptions per eventType.


    Subscriptions contain the URL & CallbackCreds to authenticate and send
    events for each state change.


    Because processing times may vary across all event types, Bandwidth
    recommends the use of subscriptions to receive callback notifications upon
    order completion, as opposed to polling the resource ID with GET requests
    until the desired state is returned.
  contact:
    email: support@bandwidth.com
servers:
  - url: http://localhost:3000
paths:
  /subscriptions:
    parameters: []
    get:
      summary: Get Subscriptions for account
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-1:
                  value:
                    subscriptions:
                      - subscription:
                          subscriptionId: string
                          dateOfLastModification: '2019-08-24T14:15:22Z'
                          source: porting
                          eventType: portin
                          entityId: unique-id-value
                          subsciptionStatus: ACTIVE
                          tags:
                            - tag:
                                name: tag-name
                                value: tag-value
                          notifyStates: []
                          notificationChannels:
                            callbacks:
                              - “callback”:
                                  url: some-url
                                  publicKey: key
        '204':
          description: >-
            No active subscriptions exist on this account. Please reference the
            documentation to create a subscription.
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '405':
          description: Method Not Allowed
        '500':
          description: Internal Server Error
      operationId: get-suibscriptions
      description: List notification subscriptions
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  subscriptions:
                    - subscription:
                        subscriptionId: string
                        dateOfLastModification: '2019-08-24T14:15:22Z'
                        source: porting
                        eventType: portin
                        entityId: unique-id-value
                        subsciptionStatus: ACTIVE
                        tags:
                          - tag:
                              name: tag-name
                              value: tag-value
                        notifyStates: []
                        notificationChannels:
                          callbacks:
                            - callback:
                                url: some-url
                                publicKey: key
              properties:
                subscriptions:
                  type: array
                  uniqueItems: true
                  minItems: 1
                  items:
                    type: object
                    properties:
                      subscription:
                        type: object
                        properties:
                          subscriptionId:
                            type: string
                            minLength: 1
                          dateOfLastModification:
                            type: string
                            minLength: 1
                          source:
                            type: string
                            minLength: 1
                          eventType:
                            type: string
                            minLength: 1
                          entityId:
                            type: string
                            minLength: 1
                          subsciptionStatus:
                            type: string
                            minLength: 1
                          tags:
                            type: array
                            uniqueItems: true
                            minItems: 1
                            items:
                              type: object
                              properties:
                                tag:
                                  type: object
                                  properties:
                                    name:
                                      type: string
                                      minLength: 1
                                    value:
                                      type: string
                                      minLength: 1
                          notifyStates:
                            type: array
                            items:
                              type: object
                          notificationChannels:
                            type: object
                            properties:
                              callbacks:
                                type: array
                                uniqueItems: true
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    callback:
                                      type: object
                                      properties:
                                        url:
                                          type: string
                                          minLength: 1
                                        publicKey:
                                          type: string
                                          minLength: 1
                                      required:
                                        - url
                                        - publicKey
                        required:
                          - subscriptionId
                          - dateOfLastModification
                          - source
                          - eventType
                          - entityId
                          - subsciptionStatus
              required:
                - subscriptions
            examples:
              Example GET Subscription List Response:
                value:
                  subscriptions:
                    - subscription:
                        subscriptionId: string
                        dateOfLastModification: '2019-08-24T14:15:22Z'
                        source: porting
                        eventType: portin
                        entityId: unique-id-value
                        subsciptionStatus: ACTIVE
                        tags:
                          - tag:
                              name: tag-name
                              value: tag-value
                        notifyStates: []
                        notificationChannels:
                          callbacks:
                            - callback:
                                url: some-url
                                publicKey: key
    patch:
      summary: Update Subscription Information
      operationId: patch-notifications-subscriptionId
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                x-examples:
                  example-1:
                    subscriptionId: string
                    dateOfLastModification: '2019-08-24T14:15:22Z'
                    source: porting
                    eventType: portin
                    entityId: unique-id-value
                    subsciptionStatus: ACTIVE
                    tags:
                      - tag:
                          name: tag-name
                          value: tag-value
                    notifyStates: []
                    notificationChannels:
                      callbacks:
                        - “callback”:
                            url: some-url
                            publicKey: key
                properties:
                  subscriptionId:
                    type: string
                    minLength: 1
                  dateOfLastModification:
                    type: string
                    minLength: 1
                  source:
                    type: string
                    minLength: 1
                  eventType:
                    type: string
                    minLength: 1
                  entityId:
                    type: string
                    minLength: 1
                  subsciptionStatus:
                    type: string
                    minLength: 1
                  tags:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      type: object
                      properties:
                        tag:
                          type: object
                          properties:
                            name:
                              type: string
                              minLength: 1
                            value:
                              type: string
                              minLength: 1
                  notifyStates:
                    type: array
                    items:
                      type: object
                  notificationChannels:
                    type: object
                    required:
                      - callbacks
                    properties:
                      callbacks:
                        type: array
                        uniqueItems: true
                        minItems: 1
                        items:
                          type: object
                          properties:
                            “callback”:
                              type: object
                              properties:
                                url:
                                  type: string
                                  minLength: 1
                                publicKey:
                                  type: string
                                  minLength: 1
                              required:
                                - url
                                - publicKey
                required:
                  - subscriptionId
                  - dateOfLastModification
                  - source
                  - eventType
                  - entityId
                  - subsciptionStatus
              examples:
                Example PATCH Response:
                  value:
                    subscriptionId: string
                    dateOfLastModification: '2019-08-24T14:15:22Z'
                    source: porting
                    eventType: portin
                    entityId: unique-id-value
                    subsciptionStatus: ACTIVE
                    tags:
                      - tag:
                          name: tag-name
                          value: tag-value
                    notifyStates: []
                    notificationChannels:
                      callbacks:
                        - “callback”:
                            url: some-url
                            publicKey: key
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '405':
          description: Method Not Allowed
        '500':
          description: Internal Server Error
      description: Update a notification subscription
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  subscriptionId: string
                  source: porting
                  eventType: portin
                  entityId: unique-id-value
                  subsciptionStatus: ACTIVE
                  tags:
                    - tag:
                        name: tag-name
                        value: tag-value
                  notifyStates: []
                  notificationChannels:
                    callbacks:
                      - “callback”:
                          url: some-url
                          publicKey: key
              properties:
                subscriptionId:
                  type: string
                  minLength: 1
                source:
                  type: string
                  minLength: 1
                eventType:
                  type: string
                  minLength: 1
                entityId:
                  type: string
                  minLength: 1
                subsciptionStatus:
                  type: string
                  minLength: 1
                tags:
                  type: array
                  uniqueItems: true
                  minItems: 1
                  items:
                    type: object
                    properties:
                      tag:
                        type: object
                        properties:
                          name:
                            type: string
                            minLength: 1
                          value:
                            type: string
                            minLength: 1
                notifyStates:
                  type: array
                  items:
                    type: object
                notificationChannels:
                  type: object
                  properties:
                    callbacks:
                      type: array
                      uniqueItems: true
                      minItems: 1
                      items:
                        type: object
                        properties:
                          “callback”:
                            type: object
                            properties:
                              url:
                                type: string
                                minLength: 1
                              publicKey:
                                type: string
                                minLength: 1
              required:
                - subscriptionId
                - source
                - eventType
                - entityId
                - subsciptionStatus
            examples:
              Example PATCH Subscription:
                value:
                  subscriptionId: string
                  source: porting
                  eventType: portin
                  entityId: unique-id-value
                  subsciptionStatus: ACTIVE
                  tags:
                    - tag:
                        name: tag-name
                        value: tag-value
                  notifyStates: []
                  notificationChannels:
                    callbacks:
                      - “callback”:
                          url: some-url
                          publicKey: key
    post:
      summary: Create Subscription
      operationId: post-subscription
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                description: ''
                type: object
                x-examples:
                  example-1:
                    subscriptionId: string
                    dateOfLastModification: '2019-08-24T14:15:22Z'
                    source: porting
                    eventType: portin
                    entityId: unique-id-value
                    subsciptionStatus: ACTIVE
                    tags:
                      - tag:
                          name: tag-name
                          value: tag-value
                    notifyStates: []
                    notificationChannels:
                      callbacks:
                        - “callback”:
                            url: some-url
                            publicKey: key
                properties:
                  subscriptionId:
                    type: string
                    minLength: 1
                  dateOfLastModification:
                    type: string
                    minLength: 1
                  source:
                    type: string
                    minLength: 1
                  eventType:
                    type: string
                    minLength: 1
                  entityId:
                    type: string
                    minLength: 1
                  subsciptionStatus:
                    type: string
                    minLength: 1
                  tags:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      type: object
                      properties:
                        tag:
                          type: object
                          properties:
                            name:
                              type: string
                              minLength: 1
                            value:
                              type: string
                              minLength: 1
                  notifyStates:
                    type: array
                    items:
                      type: object
                  notificationChannels:
                    type: object
                    properties:
                      callbacks:
                        type: array
                        uniqueItems: true
                        minItems: 1
                        items:
                          type: object
                          properties:
                            “callback”:
                              type: object
                              properties:
                                url:
                                  type: string
                                  minLength: 1
                                publicKey:
                                  type: string
                                  minLength: 1
                required:
                  - subscriptionId
                  - dateOfLastModification
                  - source
                  - eventType
                  - entityId
                  - subsciptionStatus
                  - tags
              examples:
                Example POST Subscription Response:
                  value:
                    subscriptionId: string
                    dateOfLastModification: '2019-08-24T14:15:22Z'
                    source: porting
                    eventType: portin
                    entityId: unique-id-value
                    subsciptionStatus: ACTIVE
                    tags:
                      - tag:
                          name: tag-name
                          value: tag-value
                    notifyStates: []
                    notificationChannels:
                      callbacks:
                        - “callback”:
                            url: some-url
                            publicKey: key
        '400':
          description: >-
            Missing Required Information. Please reference the documentation for
            information required to create a subscription
          content:
            application/xml:
              schema:
                type: object
                properties: {}
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '405':
          description: Method Not Allowed
        '500':
          description: Internal Server Error
      description: Create a new notification subscription
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  “source”: “porting”
                  eventType: portin
                  entityId: unique-id-value
                  subsciptionStatus: ACTIVE
                  “tag”: “a tag value”
                  notifyStates: []
                  notificationChannels:
                    callbacks:
                      - “callback”:
                          url: some-url
                          publicKey: key
              properties:
                eventType:
                  type: string
                  minLength: 1
                source:
                  type: string
                  minLength: 1
                entityId:
                  type: string
                  minLength: 1
                subsciptionStatus:
                  type: string
                  minLength: 1
                tags:
                  type: array
                  items:
                    type: object
                    properties:
                      tag:
                        type: object
                        properties:
                          name:
                            type: string
                          value:
                            type: string
                notifyStates:
                  type: array
                  items:
                    type: object
                    properties:
                      '':
                        type: string
                notificationChannels:
                  type: object
                  properties:
                    callbacks:
                      type: array
                      uniqueItems: true
                      minItems: 1
                      items:
                        type: object
                        properties:
                          “callback”:
                            type: object
                            properties:
                              url:
                                type: string
                                minLength: 1
                              publicKey:
                                type: string
                                minLength: 1
              required:
                - eventType
                - source
                - entityId
                - subsciptionStatus
            examples:
              Example Create Subscrption:
                value:
                  source: porting
                  eventType: portin
                  entityId: unique-id-value
                  subsciptionStatus: ACTIVE
                  tags:
                    - tag:
                        name: tag-name
                        value: tag-value
                  notifyStates: []
                  notificationChannels:
                    callbacks:
                      - callback:
                          url: some-url
                          publicKey: key
    put:
      summary: Rewrite Subscription
      operationId: put-notification-subsciptionId
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                x-examples:
                  example-1:
                    subscriptionId: string
                    dateOfLastModification: '2019-08-24T14:15:22Z'
                    source: porting
                    eventType: portin
                    entityId: unique-id-value
                    subsciptionStatus: ACTIVE
                    tags:
                      - tag:
                          name: tag-name
                          value: tag-value
                    notifyStates: []
                    notificationChannels:
                      callbacks:
                        - “callback”:
                            url: some-url
                            publicKey: key
                properties:
                  subscriptionId:
                    type: string
                    minLength: 1
                  dateOfLastModification:
                    type: string
                    minLength: 1
                  source:
                    type: string
                    minLength: 1
                  eventType:
                    type: string
                    minLength: 1
                  entityId:
                    type: string
                    minLength: 1
                  subsciptionStatus:
                    type: string
                    minLength: 1
                  tags:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      type: object
                      properties:
                        tag:
                          type: object
                          properties:
                            name:
                              type: string
                              minLength: 1
                            value:
                              type: string
                              minLength: 1
                  notifyStates:
                    type: array
                    items:
                      type: object
                  notificationChannels:
                    type: object
                    required:
                      - callbacks
                    properties:
                      callbacks:
                        type: array
                        uniqueItems: true
                        minItems: 1
                        items:
                          type: object
                          properties:
                            “callback”:
                              type: object
                              properties:
                                url:
                                  type: string
                                  minLength: 1
                                publicKey:
                                  type: string
                                  minLength: 1
                              required:
                                - url
                                - publicKey
                required:
                  - subscriptionId
                  - dateOfLastModification
                  - source
                  - eventType
                  - entityId
                  - subsciptionStatus
              examples:
                Example PUT Subscription Response:
                  value:
                    subscriptionId: string
                    dateOfLastModification: '2019-08-24T14:15:22Z'
                    source: porting
                    eventType: portin
                    entityId: unique-id-value
                    subsciptionStatus: ACTIVE
                    tags:
                      - tag:
                          name: tag-name
                          value: tag-value
                    notifyStates: []
                    notificationChannels:
                      callbacks:
                        - “callback”:
                            url: some-url
                            publicKey: key
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '405':
          description: Method Not Allowed
        '500':
          description: Internal Server Error
      description: Rewrite a notification subscription
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  subscriptionId: string
                  source: porting
                  eventType: portin
                  entityId: unique-id-value
                  subsciptionStatus: ACTIVE
                  tags:
                    - tag:
                        name: tag-name
                        value: tag-value
                  notifyStates: []
                  notificationChannels:
                    callbacks:
                      - “callback”:
                          url: some-url
                          publicKey: key
              properties:
                subscriptionId:
                  type: string
                  minLength: 1
                source:
                  type: string
                  minLength: 1
                eventType:
                  type: string
                  minLength: 1
                entityId:
                  type: string
                  minLength: 1
                subsciptionStatus:
                  type: string
                  minLength: 1
                tags:
                  type: array
                  uniqueItems: true
                  minItems: 1
                  items:
                    type: object
                    properties:
                      tag:
                        type: object
                        properties:
                          name:
                            type: string
                            minLength: 1
                          value:
                            type: string
                            minLength: 1
                notifyStates:
                  type: array
                  items:
                    type: object
                notificationChannels:
                  type: object
                  properties:
                    callbacks:
                      type: array
                      uniqueItems: true
                      minItems: 1
                      items:
                        type: object
                        properties:
                          “callback”:
                            type: object
                            properties:
                              url:
                                type: string
                                minLength: 1
                              publicKey:
                                type: string
                                minLength: 1
              required:
                - subscriptionId
                - source
                - eventType
                - entityId
                - subsciptionStatus
            examples:
              Example PUT Subscription:
                value:
                  subscriptionId: string
                  source: porting
                  eventType: portin
                  entityId: unique-id-value
                  subsciptionStatus: ACTIVE
                  tags:
                    - tag:
                        name: tag-name
                        value: tag-value
                  notifyStates: []
                  notificationChannels:
                    callbacks:
                      - “callback”:
                          url: some-url
                          publicKey: key
  /subscriptions/{subscriptionId}:
    get:
      summary: Get Subscription by subscriptionId
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                x-examples:
                  example-1:
                    subscriptionId: string
                    dateOfLastModification: '2019-08-24T14:15:22Z'
                    source: porting
                    eventType: portin
                    entityId: unique-id-value
                    subsciptionStatus: ACTIVE
                    tags:
                      - tag:
                          name: tag-name
                          value: tag-value
                    notifyStates: []
                    notificationChannels:
                      callbacks:
                        - “callback”:
                            url: some-url
                            publicKey: key
                properties:
                  subscriptionId:
                    type: string
                    minLength: 1
                  dateOfLastModification:
                    type: string
                    minLength: 1
                  source:
                    type: string
                    minLength: 1
                  eventType:
                    type: string
                    minLength: 1
                  entityId:
                    type: string
                    minLength: 1
                  subsciptionStatus:
                    type: string
                    minLength: 1
                  tags:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      type: object
                      properties:
                        tag:
                          type: object
                          properties:
                            name:
                              type: string
                              minLength: 1
                            value:
                              type: string
                              minLength: 1
                  notifyStates:
                    type: array
                    items:
                      type: object
                  notificationChannels:
                    type: object
                    properties:
                      callbacks:
                        type: array
                        uniqueItems: true
                        minItems: 1
                        items:
                          type: object
                          properties:
                            “callback”:
                              type: object
                              properties:
                                url:
                                  type: string
                                  minLength: 1
                                publicKey:
                                  type: string
                                  minLength: 1
                required:
                  - subscriptionId
                  - dateOfLastModification
                  - source
                  - eventType
                  - entityId
                  - subsciptionStatus
              examples:
                Example GET SubscriptionId response:
                  value:
                    subscriptionId: string
                    dateOfLastModification: '2019-08-24T14:15:22Z'
                    source: porting
                    eventType: portin
                    entityId: unique-id-value
                    subsciptionStatus: ACTIVE
                    tags:
                      - tag:
                          name: tag-name
                          value: tag-value
                    notifyStates: []
                    notificationChannels:
                      callbacks:
                        - “callback”:
                            url: some-url
                            publicKey: key
                example-1:
                  value:
                    subscriptionId: string
                    dateOfLastModification: string
                    source: string
                    eventType: string
                    entityId: string
                    subsciptionStatus: string
                    tag: string
                    notifyStates:
                      - {}
                    notificationChannels:
                      callbacks:
                        - “callback”:
                            url: string
                            publicKey: string
            application/xml:
              schema:
                type: object
                properties: {}
              examples:
                Example GET SubscriptionId:
                  value: '[object Object]'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-1:
                  value: {}
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '405':
          description: Method Not Allowed
        '500':
          description: Internal Server Error
      operationId: get-notifications-subscriptionId
    parameters:
      - schema:
          type: string
        name: subscriptionId
        in: path
        required: true
        description: ID of Subscription
    delete:
      summary: Delete Subscription
      operationId: delete-notifications-subscriptionId
      responses:
        '204':
          description: 'SubscriptionID : X Successfully Deleted'
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: 'SubscriptionId : X Not Found'
        '405':
          description: Method Not Allowed
        '500':
          description: Internal Server Error
      description: Delete a notification subscription
components:
  schemas: {}
  securitySchemes:
    API Key - 1:
      name: API Key
      type: apiKey
      in: query
