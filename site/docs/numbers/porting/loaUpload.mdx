---
id: loaUpload
title: LOA Upload
slug: /numbers/guides/porting/loaUpload
description: How to upload Letter of Authorization (LOA) for portin request
keywords:
  - bandwidth
  - numbers
  - porting
  - portin
  - lnp
  - port
  - loa
  - file
  - upload
  - letter
  - authorization
image: ../../../static/img/bandwidth-logo.png
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

export const accountId = "{accountId}";
export const orderId = "{orderId}";
export const fileId = "{fileId}";

export const Highlight = ({children, color}) => (
    <span
      style={{
        backgroundColor: color,
        borderRadius: '2px',
        color: '#fff',
        padding: '0.2rem',
      }}>
      {children}
    </span>
  );


After successfully submitting the [Create LNP Order request](/docs/numbers/guides/porting/portingNumbers), an Letter of Authorization (LOA) may be uploaded using our LOA API.

The following MIME types are supported for the LOA upload file:

* PDF(“application/pdf”)
* PLAIN(“text/plain”)
* JPG(“image/jpeg”)
* TIFF(“image/tiff”)
* CSV(“text/csv”)
* XML(“application/xml”)
* WAV(“audio/x-wav”)
* ZIP(“application/zip”)


To upload and manage the LOA you can use different requests to [/portins/{orderId}/loas API](/apis/numbers/#operation/UploadPortinLoaFile). This can be done through our [SDKs](/sdks), using tools like [Postman](https://github.com/Bandwidth/postman), or in command line.

<Highlight color="#079CEE">POST</Highlight> <code>https://dashboard.bandwidth.com/api/accounts/{accountId}/portins/{orderId}/loas</code>

<Tabs
    groupId="manageLoa"
    defaultValue="http"
    values={[
        { label: 'http', value: 'http', },
        { label: 'cURL', value: 'curl', },
        { label: 'Java', value: 'java', },
        { label: 'C#', value: 'csharp', },
        { label: 'Ruby', value: 'ruby', },
        { label: 'NodeJS', value: 'nodejs', },
        { label: 'PHP', value: 'php', },
    ]
    }>
<TabItem value="http">

> UPLOAD LOA

```http
POST /api/accounts/9900778/portins/{orderId}/loas HTTP/1.1
Host: dashboard.bandwidth.com
Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=
Content-Type: application/pdf
documentType: LOA
Accept: /
Accept-Encoding: gzip, deflate
Accept-Language: en-US,en;q=0.8
Cache-Control: no-cache

----WebKitFormBoundaryE19zNvXGzXaLvS5C
Content-Disposition: form-data; name="george"; filename="Bandwidth Dashboard.pdf"
Content-Type: application/pdf
----WebKitFormBoundaryE19zNvXGzXaLvS5C
```

> Response

```xml
HTTP 201 Created
Content-Type: application/xml; charset=utf-8

<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<fileUploadResponse>
    <filename>63097af1-37ae-432f-8a0d-9b0e6517a35b-1429550165581.pdf</filename>
    <resultCode>0</resultCode>
    <resultMessage>LOA file uploaded successfully for order 63097af1-37ae-432f-8a0d-9b0e6517a35b</resultMessage>
</fileUploadResponse>
```

>UPDATE FILE METADATA

```xml
<FileMetaData>
    <DocumentName> [string] </DocumentName>
    <DocumentType> [LOA | INVOICE | CSR | OTHER] </DocumentType>
</FileMetaData>
```

</TabItem>
<TabItem value="curl">

> Request

```cURL
# UPLOAD LOA

curl \
    -H 'Content-Type: application/pdf' \
    --data-binary "@Test_LOA.pdf" \
    -iv https://dashboard.bandwidth.com/api/accounts/{accountId}/portins/{orderId}/loas

# UPDATE FILE METADATA

curl 'https://dashboard.bandwidth.com/api/accounts/{accountId}/portins/{orderId}/loas/{fileId}/metadata' \
-X PUT \
-U '{BANDWIDTH_USERNAME}:{BANDWIDTH:PASSWORD}' \
-H 'Content-Type: application/xml' \
-d '<FileMetaData>
    <DocumentName> [string] </DocumentName>
    <DocumentType> [LOA | INVOICE | CSR | OTHER] </DocumentType>
</FileMetaData>'
```

</TabItem>
<TabItem value="java">

```java
String accountId = System.getenv("BANDWIDTH_IRIS_ACCOUNTID");
String username = System.getenv("BANDWIDTH_IRIS_USERNAME");
String password = System.getenv("BANDWIDTH_IRIS_PASSWORD");
String irisUrl = System.getenv("BANDWIDTH_IRIS_URL");
String version = System.getenv("BANDWIDTH_IRIS_URL");

IrisClient client = new IrisClient(accountId, username, password, irisUrl, version);

try {
    LnpOrder order = LnpOrder.get(client, "orderId");

    String fileName = "myLoaFile.pdf";
    order.uploadLoa(new File("path_to_the_file/../myLoaFile.pdf"), LoaFileType.PDF);
    order.updateLoa(new File("another_path_to_the_file"), LoaFileType.PDF);
    order.deleteLoa(fileName);
    order.getLoaMetaData(fileName);

    FileMetaData fileMetaData = new FileMetaData();
    fileMetaData.setDocumentName("myLoaFile.pdf");
    fileMetaData.setDocumentType("INVOICE");
    order.updateLoaMetaData(fileName,  fileMetaData);
    order.deleteLoaMetaData(fileName);
} catch (Exception e) {
    System.out.println(e.getMessage());
}
```

</TabItem>
<TabItem value="csharp">

```csharp
var client = Client.GetInstance(accountId, username, password, apiEndpoint)
var portInOrder = PortIn.Get(client, "orderId");

// Port In LOA Management
portInOrder.CreateFile(Stream s, string mediaType);
portInOrder.CreateFile(byte[] buffer, string mediaType);
portInOrder.UpdateFile(string fileName, Stream s, string mediaType);
portInOrder.UpdateFile(string fileName, byte[] buffer, string mediaType);
portInOrder.GetFileMetaData(string fileName);
PutFileMetadata(string fileName, FileMetadata fileMetadata);
portInOrder.DeleteFile(string fileName);
portInOrder.GetFiles(bool metaData);
portInOrder.GetFile(string fileName);
```

</TabItem>
<TabItem value="ruby">

```ruby
require 'ruby-bandwidth-iris'

BandwidthIris::Client.global_options = {
:account_id => 'accountId',
:username => 'userName',
:password => 'password'
}
portIn = BandwidthIris::PortIn.get("portin_id", callback)

# Add File
portIn.create_file(IO.read("myFile.txt"))

# Update File
portIn.update_file("myFile.txt", IO.read("myFile.txt"))

# Get File
portIn.get_file("myFile.txt")

# Get File Metadata
portIn.get_file_metadata("myFile.txt")

# Get Files
portIn.get_files()
```

</TabItem>
<TabItem value="nodejs">

```js
var numbers = require("@bandwidth/numbers");

// Using client directly
// var client = new numbers.Client("accountId", "userName", "password");
// numbers.PortIn.create(client, function(err, response){...});

//Or you can use default client instance (do this only once)
numbers.Client.globalOptions.accountId = "accountId";
numbers.Client.globalOptions.userName = "userName";
numbers.Client.globalOptions.password = "password";

var portinOrderId = "...";
numbers.PortIn.get(portinOrderId, function(err, portIn){
// Add File
portIn.createFile(fs.createReadStream("myFile.txt"), callback);

// Update File
portIn.updateFile("myFile.txt", fs.createReadStream("myFile.txt"), callback);

// Get File
portIn.getFile("myFile.txt", callback);

// Get File Metadata
portIn.getFileMetadata("myFile.txt", callback);

// Get Files
portIn.getFiles(callback);
});
```

</TabItem>
<TabItem value="php">

```php
$accountId = getenv("BANDWIDTH_API_ACCOUNT_ID");
$username = getenv("BANDWIDTH_API_USERNAME");
$password = getenv("BANDWIDTH_API_PASSWORD");
$apiEndpoint = getenv("BANDWIDTH_API_ENDPOINT");

$client = new \Iris\Client($username, $password, ['url' => $apiEndpoint]);
$account = new \Iris\Account($accountId, $client);

try {
    $portin = $account->portins()->portin("d28b36f7-fa96-49eb-9556-a40fca49f7c6"));
    $portin->list_loas(true); // metadata = true
    $portin->loas_send("./1.txt");
    $portin->loas_update("./1.txt", "1.txt");
    $portin->loas_delete("1.txt");
    $portin->get_metadata("1.txt");

    $meta_new = array(
    "DocumentName" => "text.txt",
    "DocumentType" => "INVOICE"
    );
    $portin->set_metadata('test.txt', $meta_new);
    $portin->delete_metadata('test.txt');
} catch (BandwidthLib\APIException $e) {
    print_r($e->getResponseCode());
}
```

</TabItem>
</Tabs>

## Where to next?

Now that you have learnt how to create a Port in order, check out some of the available actions in the following guides:
- [How to manage Port in](/docs/numbers/guides/porting/updatePortin)
