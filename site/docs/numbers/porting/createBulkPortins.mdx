---
id: createBulkPortins
title: Bulk Port-ins
slug: /numbers/guides/porting/createBulkPortins
description: How to create bulk port-in order using the Bandwidth API
keywords:
  - bandwidth
  - bulkportins
  - portin
  - port-in
image: ../../static/img/bandwidth-logo.png
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

export const accountId = "{accountId}";
export const orderId = "{orderId}";

export const Highlight = ({children, color}) => (
    <span
      style={{
        backgroundColor: color,
        borderRadius: '2px',
        color: '#fff',
        padding: '0.2rem',
      }}>
      {children}
    </span>
  );

[The bulkPortins endpoint](/apis/numbers#operation/CreateBulkPortin) is used to manage requests to port a diverse collection of Telephone Numbers into the Bandwidth Dashboard. These telephone numbers will be decomposed into a set of individual port-in orders based on port-type, losing carrier, losing RespOrg, etc., making all reasonable attempts to treat the individual port-in requests in a uniform manner. The elements supplied in the bulk port-in payload are cascaded to the child port-in orders when possible. This is useful, for example, if you want all of the child orders to have the same CustomerOrderId, or RequestedFocDate.

## Create Bulk Port-in Draft

To create Bulk Port-in request order, you must make a <Highlight color="#079CEE">POST</Highlight> request to our [API /bulkPortins](/apis/numbers/#operation/CreateBulkPortin) endpoint. This order is used to manage the porting event throughout the lifecycle of the request. This can be done through tools like Postman, or in command line. Note the ```OrderId``` field in response. It will be used for the next steps.

:::info
Only fields that you wish to use as defaults for all of the child port-in orders should be included in the bulk port-in order.
:::

<Highlight color="#079CEE">POST</Highlight> <code>https://dashboard.bandwidth.com/api/accounts/{accountId}/bulkPortins</code>
<Tabs
    groupId="createBulkPortin"
    defaultValue="payload"
    values={[
        { label: 'Request Payload', value: 'payload', },
        { label: 'cURL', value: 'curl', },
    ]
    }>
<TabItem value="payload">

> Request

```xml
Note: Make sure an authentication header is added with your BANDWIDTH_USERNAME and BANDWIDTH:PASSWORD

https://dashboard.bandwidth.com/api/accounts/{accountId}/bulkPortins
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n
<BulkPortin>
    <CustomerOrderId>Order Id for all child orders</CustomerOrderId>
    <RequestedFocDate>2021-06-30Z</RequestedFocDate>
    <SiteId>14020</SiteId>
    <PeerId>521434</PeerId>
</BulkPortin>
```

> Response

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<BulkPortinResponse>
    <BulkPortin>
        <CustomerOrderId>Order Id for all child orders</CustomerOrderId>
        <RequestedFocDate>2021-06-30T00:00:00.000Z</RequestedFocDate>
        <SiteId>14020</SiteId>
        <PeerId>521434</PeerId>
        <ProcessingStatus>DRAFT</ProcessingStatus>
        <AccountId>9900572</AccountId>
        <CreatedByUser>jgilmore</CreatedByUser>
        <LastModifiedBy>jgilmore</LastModifiedBy>
        <LastModifiedDate>2021-06-21T19:42:34.760Z</LastModifiedDate>
        <OrderCreateDate>2021-06-21T19:42:34.760Z</OrderCreateDate>
        <OrderId>ac2c8ab2-7a63-44da-a307-edcabe0b6c81</OrderId>
    </BulkPortin>
</BulkPortinResponse>
```

</TabItem>
<TabItem value="curl">

```cURL
Note: Remember to add authentication for your application if needed!

curl 'https://dashboard.bandwidth.com/api/accounts/{BW_ACCOUNT_ID}/bulkPortins' \
-X POST \
-U '{BANDWIDTH_USERNAME}:{BANDWIDTH:PASSWORD}' \
-H 'Content-Type: application/xml' \
-d '<BulkPortin>
    <CustomerOrderId>Order Id for all child orders</CustomerOrderId>
    <RequestedFocDate>2021-06-30Z</RequestedFocDate>
    <SiteId>14020</SiteId>
    <PeerId>521434</PeerId>
</BulkPortin>'
```

</TabItem>
</Tabs>

When bulk port-in is created, it has ```DRAFT``` status, which means it has not been processed yet.
If you want to update your bulk port-in (either in ```DRAFT``` or other further state) follow the [How to update Bulk Port-in](/docs/numbers/guides/porting/updateBulkPortins) guide.

## Provide telephone number(s) to port

After Bulk Port-in is created the next step is to add telephone numbers to the order. To do it you must send a <Highlight color="#9a59c5">PUT</Highlight> request to our [API /bulkPortins/{orderId}/tnList](/apis/numbers/#operation/UpdateBulkTnList) endpoint. This can be done through tools like Postman, or in command line.

<Highlight color="#9a59c5">PUT</Highlight> <code>https://dashboard.bandwidth.com/api/accounts/{accountId}/bulkPortins/{orderId}/tnList</code>
<Tabs
    groupId="putBulkPortinTnList"
    defaultValue="payload"
    values={[
        { label: 'Request Payload', value: 'payload', },
        { label: 'cURL', value: 'curl', },
    ]
    }>
<TabItem value="payload">

> Request

```xml
Note: Make sure an authentication header is added with your BANDWIDTH_USERNAME and BANDWIDTH:PASSWORD

https://dashboard.bandwidth.com/api/accounts/{accountId}/bulkPortins/{orderId}/tnList
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n
<TnList>
    <TN>[telephone number]</TN>
    <TN>[telephone number]</TN>
    <!-- SNIP -->
    <TN>[telephone number]</TN>
    <TN>[telephone number]</TN>
</TnList>
```

> Response

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<TnListResponse>
    <OrderId>ac2c8ab2-7a63-44da-a307-edcabe0b6c81</OrderId>
    <ProcessingStatus>VALIDATE_DRAFT_TNS</ProcessingStatus>
</TnListResponse>
```

</TabItem>
<TabItem value="curl">

```cURL
Note: Remember to add authentication for your application if needed!

curl 'https://dashboard.bandwidth.com/api/accounts/{accountId}/bulkPortins/{orderId}/tnList' \
-X POST \
-U '{BANDWIDTH_USERNAME}:{BANDWIDTH:PASSWORD}' \
-H 'Content-Type: application/xml' \
-d '<TnList>
    <TN>[telephone number]</TN>
    <TN>[telephone number]</TN>
    <!-- SNIP -->
    <TN>[telephone number]</TN>
    <TN>[telephone number]</TN>
</TnList>'
```

</TabItem>
</Tabs>

After submitting a tnList with the ```PUT``` operation, you will need to poll for completion of the validation and decomposition using the GET [API /bulkPortins/{orderId}/tnList](/apis/numbers/#operation/ListBulkTns). Check the ```ProcessingStatus``` field. If all the telephone numbers in the tnList are portable, the bulk port-in transitions to the ```VALID_DRAFT_TNS``` state.

:::caution
If at least one of the telephone numbers in the tnList <b>is not portable</b>, the bulk port-in transitions to the ```INVALID_DRAFT_TNS``` state. You will see reasons why telephone numbers are non-portable in response body. To fix it you’ll need to update the tnList to remove non-portable telephone numbers.
:::

At this point, bulk port-in will have one or more child port-in orders that satisfy industry port-in rules (for more details on the rules check [Port Types](/docs/numbers/guides/porting/lnpChecker/#port-types) guide).
The child port-ins as a bulk port are also created in ```DRAFT``` status, allowing you to update fields that need to be different for each child order before the child orders are submitted.

## Where to next?

Now that you have learned how to create a Bulk Port-in order, check out some of the other available actions in the following guides:

- [How to submit Bulk Port-in →](/docs/numbers/guides/porting/submitBulkPortins)
- [How to update Bulk Port-in →](/docs/numbers/guides/porting/updateBulkPortins)