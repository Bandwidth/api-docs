---
id: lnpChecker
title: Lnp Checker
slug: /numbers/porting/lnpChecker
description: How to port numbers using the Bandwidth API
keywords:
  - bandwidth
  - numbers
  - porting
  - portin
  - port
  - lnp
  - portability
  - checker
  - check
image: ../../../static/img/bandwidth-logo.png
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

export const accountId = "{accountId}";
export const orderId = "{orderId}";

export const Highlight = ({children, color}) => (
    <span
      style={{
        backgroundColor: color,
        borderRadius: '2px',
        color: '#fff',
        padding: '0.2rem',
      }}>
      {children}
    </span>
  );

The Bandwidth Phone Number API is used to submit Port-In requests. These requests to move phone numbers from a “losing carrier” to Bandwidth are part of the Local Number Portability (LNP) process. These LNP requests are automatically validated and processed.

Bandwidth supports two APIs for porting numbers to Bandwidth:
- /portins
- /bulkPortins

The `/portins` API allows a set of TNs to be ported in, provided that the set of TNs meets the criteria below.
TNs can be ported in a single `/portins` request if all of the following are true:

1. They all have the same Port Type
2. They all have the same losing carrier
3. They are all associated with the same billing TN and Service Address

There are also a number of reasons why a TN may not be able to be ported in:

* The TN is in a rate center that is not supported by Bandwidth or any of Bandwidth's partners.
* The TN is an off-net TN and the account is configured to support tier zero (on-net) only.
* The TN belongs to a losing carrier that Bandwidth does not have a Trading Partner Agreement with.
* The TN is already being processed in another active port-in order.
* The Bandwidth account has not been enabled for porting.
Otherwise the user must separate the TNs into individual `/portins` requests.

The `/lnpchecker` API is used to determine the Port Type(s) and losing carrier(s) for a set of TNs.
The `/bulkPortins` API eliminates the need for the `/lnpchecker` API by sorting the list of TNs automatically into a set of port-in requests by Port Type. The set of port-ins associated with the bulk port-in remain in a DRAFT state until you've had a chance to examine the breakdown. From that point, you can decide to submit all of the port-ins together under the umbrella of the bulk port-in, or you can separate out individual port-ins to submit by themselves.
Terminology


| Term       | Description                               |                                                                                                                                                                                                                                                                       |
|:----------------------------------|:-------------------------------------------------------|
| Port Type | A categorization of how the TNs submitted to the /lnpchecker API will be handled by Bandwidth. See the POST operation for more information |
| On-Net | TNs that belong to a rate center covered by Bandwidth are referred to as on-net TNs |
| Off-Net | TNs that belong to a rate center covered by a Bandwidth partner are refered to as off-net TNs |
| Automated | If the TNs are on-net, or off-net and covered by a Bandwidth partner that supports automated ports, then the port-in of these TNs will be handled with no human intervention |
| Manual | If the TNs cannot be ported automatically, the Bandwidth LNP team will work with the appropriate porting vendor or losing carrier to ensure completion of the port-in. The /portins API can be used to submit manual port-ins, which will be identified as such, and a Zendesk ticket will be automatically created to notify the Bandwidth LNP team |
| Internal | TNs that are being moved from one Bandwidth account to another Bandwidth account are referred to as internal ports. Internal ports are handled automatically |
| Losing carrier | The carrier from which the TN(s) is being ported |


## Checking for Portability

A number or set of numbers can be checked to see if they can be ported into the Bandwidth Network using the `/accounts/{accountId}/lnpChecker` API endpoint.

The `fullcheck` query parameter values control the components of the response payload that is returned.

### Request URL
<Highlight color="#079CEE">POST</Highlight> <code>https://dashboard.bandwidth.com/api/accounts/{accountId}/lnpChecker</code>

### Request Query Parameter

| `fullcheck` value  | Description                                                                                                                                                                                                                                                                                                      |
|:-------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `false` (default)  | Return only rate center information                                                                                                                                                                                                                                                                              |
| `true`             | Additional information will be provided on the losing carriers associated with the listed numbers                                                                                                                                                                                                                |
| `onnetportability` | Provides rate center and losing carrier information for onnet tiers only                                                                                                                                                                                                                                         |
| `offnetportabilty` | In addition to on-net information return off-net port information in `<PartnerSupportedRateCenters>` element with Partner/Vendor that the port will be supported on. Contains a list of the TNs that are supported in partner rate centers, and for which we will manually execute a port if requested for help. |

### Response Parameters

| Element                                                                                       | Description                                                                                                                                                                                                                                             |
|:----------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `SupportedRateCenters` <br/> `PartnerSupportedRateCenters` <br/> `UnsupportedRateCenters`  | Rate Center information for the indicated set of ratecenters, containing City, State, LATA and the list of TNs for which that Rate Center applies. <br/> The Tier information is provided for offnet rate centers.                                      |
| `SupportedLosingCarriers` <br/> `UnsupportedLosingCarriers`                                 | Details on the Losing Carrier including name, SPID, whether or not the carrier is a wireless carrier, whether or not account number is required as part of the CSR check, and the anticipated minimum number of days before a FoC date will be granted. |

### Examples

> Request

```xml
POST https://dashboard.bandwidth.com/api/accounts/{accountId}/lnpChecker?fullcheck=true HTTP/1.1
Content-Type: application/xml; charset=utf-8
Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=

<NumberPortabilityRequest>
    <TnList>
        <Tn>9195551234</Tn>
        <Tn>9198675309</Tn>
    </TnList>
</NumberPortabilityRequest>
```

> Response

```xml
HTTP 200 OK
Content-Type: application/xml; charset=utf-8

<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<NumberPortabilityResponse>
    <PortType>MIXED</PortType>
    <PortableNumbers>
        <Tn>9198675309</Tn>
    </PortableNumbers>
    <SupportedRateCenters>
        <RateCenterGroup>
            <RateCenter>RALEIGH</RateCenter>
            <City>RALEIGH</City>
            <State>NC</State>
            <LATA>426</LATA>
            <Tiers>
                <Tier>0</Tier>
            </Tiers>
            <TnList>
                <Tn>9198675309</Tn>
            </TnList>
        </RateCenterGroup>
    </SupportedRateCenters>
    <UnsupportedRateCenters>
        <RateCenterGroup>
            <RateCenter>DIR ASST</RateCenter>
            <City>CUSTOMER DIRECTORY ASSISTANCE </City>
            <State>NC</State>
            <LATA>99999</LATA>
            <TnList>
                <Tn>9195551234</Tn>
            </TnList>
        </RateCenterGroup>
    </UnsupportedRateCenters>
    <SupportedLosingCarriers>
        <LosingCarrierTnList>
            <LosingCarrierSPID>979E</LosingCarrierSPID>
            <LosingCarrierName>BANDWIDTH.COM:979E -NSR/1</LosingCarrierName>
            <LosingCarrierIsWireless>false</LosingCarrierIsWireless>
            <LosingCarrierAccountNumberRequired>false</LosingCarrierAccountNumberRequired>
            <LosingCarrierMinimumPortingInterval>3</LosingCarrierMinimumPortingInterval>
            <TnList>
                <Tn>9198675309</Tn>
            </TnList>
        </LosingCarrierTnList>
        <LosingCarrierTnList>
            <LosingCarrierSPID></LosingCarrierSPID>
            <LosingCarrierName>Unknown</LosingCarrierName>
            <LosingCarrierIsWireless>false</LosingCarrierIsWireless>
            <LosingCarrierAccountNumberRequired>false</LosingCarrierAccountNumberRequired>
            <LosingCarrierMinimumPortingInterval>10</LosingCarrierMinimumPortingInterval>
            <TnList>
                <Tn>9195551234</Tn>
            </TnList>
        </LosingCarrierTnList>
    </SupportedLosingCarriers>
</NumberPortabilityResponse>
```
