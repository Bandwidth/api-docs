---
id: searchingNumbers
title: How to search and order a phone number
slug: /numbers/guides/searchingForNumbers
description: How to search for available numbers using the Bandwidth API
keywords:
  - bandwidth
  - numbers
  - search
image: ../../static/img/bandwidth-logo.png
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

export const accountId = "{accountId}";

export const Highlight = ({children, color}) => (
    <span
        style={{
            backgroundColor: color,
            borderRadius: '2px',
            color: '#fff',
            padding: '0.2rem',
        }}>
      {children}
    </span>
);

Bandwidth allows you to provision specific phone numbers from available inventory for use with the network.
We offer an API that allows you to search our inventory and purchase numbers for use with our network.

In this guide we will show you how to search for available phone numbers and order them through Dashboard API.

## Search Numbers
You can find Bandwidth's available numbers using different search criteria.
In certain cases where the **exact digits** are important (such as localVantiy, endsIn, npaNxxx) LCA should be disabled to filter out non-pattern matched phone numbers.
Bandwidth's available number searches with local calling enabled by default. The LCA flag searches nearby Ratecenters for phone numbers that are considered "local" to the parameters passed.

To make a search for the available number, you must make a GET request to our [Available Numbers API](../../../../apis/numbers#tag/accounts/operation/GetAvailableTns) endpoint.
This can be done through tools like [Postman](https://github.com/Bandwidth/postman) or in the command line.

:::tip Searching Toll Free Numbers
The `tollFreeWildCardPattern` allows you to search toll free area codes, but forces the 3rd digit to be a `*`.
However, with the nature of Toll Free area codes - the 3rd digit will always be a repeat of the second, so to search for 833 numbers, set the parameter value as `83*` and you will only return 833 numbers.
For 800 numbers, search for `80*` and so on.
:::

<Tabs
groupId="http_number_search"
defaultValue="curl"
values={[
    { label: 'cURL', value: 'curl', }
]
}>
<TabItem value="curl">

```cURL
Note: Remember to add authentication for your application if needed!

curl 'https://dashboard.bandwidth.com/api/accounts/{BW_ACCOUNT_ID}/availableNumbers?areaCode=919&quantity=2' \
-U '{BANDWIDTH_USERNAME}:{BANDWIDTH:PASSWORD}'
```

</TabItem>
</Tabs>

And endpoint `../availableNumbers` should return a response like:

> Response

```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<SearchResult>
    <ResultCount>2</ResultCount>
    <TelephoneNumberList>
        <TelephoneNumber>6672286710</TelephoneNumber>
        <TelephoneNumber>5756186700</TelephoneNumber>
    </TelephoneNumberList>
</SearchResult>
```

## Order Phone Numbers

To create an order, you can use the numbers found through the search.
If you want that Bandwidth will select numbers for you according to your search criteria and immediately create an order -
then you can look at the `orderType` parameter of the request schema in [Order Numbers API](../../../../apis/numbers#tag/accounts/operation/CreateOrder).

In this example, we will show how to make an order for numbers that were found using the search.
To order numbers, you must make a POST request to our [Order Numbers API](../../../../apis/numbers#tag/accounts/operation/CreateOrder) endpoint.
This can be done through tools like [Postman](https://github.com/Bandwidth/postman) or in the command line.

<Tabs
groupId="http_number_search"
defaultValue="payload"
values={[
    { label: 'Payload', value: 'payload', },
    { label: 'cURL', value: 'curl', }
]
}>

<TabItem value="payload">

```xml
<Order>
    <SiteId>461</SiteId>
    <PartialAllowed>true</PartialAllowed>
    <ExistingTelephoneNumberOrderType>
        <TelephoneNumberList>
            <TelephoneNumber>6672286710</TelephoneNumber>
            <TelephoneNumber>5756186700</TelephoneNumber>
        </TelephoneNumberList>
    </ExistingTelephoneNumberOrderType>
</Order>
```

</TabItem>

<TabItem value="curl">

```cURL
Note: Remember to add authentication for your application if needed!

curl -X POST 'https://dashboard.bandwidth.com/api/accounts/{BW_ACCOUNT_ID}/orders'
-U '{BANDWIDTH_USERNAME}:{BANDWIDTH:PASSWORD}'
-H "Content-Type: application/xml"
-d "<Order>
        <SiteId>461</SiteId>
        <PartialAllowed>true</PartialAllowed>
        <ExistingTelephoneNumberOrderType>
            <TelephoneNumberList>
                <TelephoneNumber>6672286710</TelephoneNumber>
                <TelephoneNumber>5756186700</TelephoneNumber>
            </TelephoneNumberList>
        </ExistingTelephoneNumberOrderType>
    </Order>"
```

</TabItem>

</Tabs>

And endpoint `../orders` should return a response like:

> Response

```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<OrderResponse>
    <Order>
        <OrderCreateDate>2018-01-23T19:56:29.678Z</OrderCreateDate>
        <BackOrderRequested>false</BackOrderRequested>
        <id>47955555-67aa-4adb-8c0f-b6894e60c0dc</id>
        <ExistingTelephoneNumberOrderType>
            <TelephoneNumberList>
                <TelephoneNumber>6672286710</TelephoneNumber>
                <TelephoneNumber>5756186700</TelephoneNumber>
            </TelephoneNumberList>
        </ExistingTelephoneNumberOrderType>
        <PartialAllowed>true</PartialAllowed>
        <SiteId>461</SiteId>
    </Order>
    <OrderStatus>RECEIVED</OrderStatus>
</OrderResponse>
```

## Fetch Order Information

Phone number ordering in the Bandwidth Dashboard is asynchronous when creating an "order". The orders are then processed and the order status is updated asynchronously.  Bandwidth recommends configuring your account with a subscription instead of polling the order resource for `<OrderStatus>`.
Order processing times can vary and are not guaranteed, so bandwidth does __not__ recommend setting a timeout on waiting for an order to show either `COMPLETE` or `FAILED` status, but instead relying on a webhook from an orders subscription.

## Poll for Order Status

To poll for Order status you have to send GET request with order ID to our [Fetch Order Status API](../../../../apis/numbers#tag/accounts/operation/RetrieveOrder) endpoint.

<Tabs
groupId="http_number_search"
defaultValue="curl"
values={[
    { label: 'cURL', value: 'curl', }
]
}>

<TabItem value="curl">

```cURL
Note: Remember to add authentication for your application if needed!

curl 'https://dashboard.bandwidth.com/api/accounts/{BW_ACCOUNT_ID}/orders/{ORDER_ID}' \
-U '{BANDWIDTH_USERNAME}:{BANDWIDTH:PASSWORD}'
```

</TabItem>

</Tabs>

And endpoint `../orders/{ORDER_ID}` should return a response like:

> Response

```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<OrderResponse>
    <CompletedQuantity>2</CompletedQuantity>
    <CreatedByUser>jbm</CreatedByUser>
    <LastModifiedDate>2018-01-23T19:56:30.782Z</LastModifiedDate>
    <OrderCompleteDate>2018-01-23T19:56:30.782Z</OrderCompleteDate>
    <Order>
        <OrderCreateDate>2018-01-23T19:56:29.678Z</OrderCreateDate>
        <id>47955555-67aa-4adb-8c0f-b6894e60c0dc</id>
        <ExistingTelephoneNumberOrderType>
            <TelephoneNumberList>
                <TelephoneNumber>6672286710</TelephoneNumber>
                <TelephoneNumber>5756186700</TelephoneNumber>
            </TelephoneNumberList>
        </ExistingTelephoneNumberOrderType>
        <PartialAllowed>true</PartialAllowed>
        <SiteId>461</SiteId>
    </Order>
    <OrderStatus>COMPLETE</OrderStatus>
    <CompletedNumbers>
        <TelephoneNumber>
            <FullNumber>6672286710</FullNumber>
            <FullNumber>5756186700</FullNumber>
        </TelephoneNumber>
    </CompletedNumbers>
    <Summary>2 number ordered</Summary>
    <FailedQuantity>0</FailedQuantity>
</OrderResponse>
```

## Order Status Webhook

This is a webhook that bandwidth sends to _your_ server/email upon order completion/failure - there is no need to poll the resource if using this recommended method.

To create a subscription for Order Status you have to send POST request to our [Create Subscription API](../../../../apis/numbers#tag/accounts/operation/CreateSubscriptions) endpoint.

<Tabs
groupId="http_number_search"
defaultValue="payload"
values={[
    { label: 'Payload', value: 'payload', },
    { label: 'cURL', value: 'curl', }
]
}>

<TabItem value="payload">

```xml
<Subscription>
    <OrderType>orders</OrderType>
    <OrderId>ORDER_ID</OrderId>
    <EmailSubscription>
        <Email>your_email@gmail.com</Email>
        <DigestRequested>DAILY</DigestRequested>
    </EmailSubscription>
</Subscription>
```

</TabItem>

<TabItem value="curl">

```curl
Note: Remember to add authentication for your application if needed!

curl -X POST 'https://dashboard.bandwidth.com/api/accounts/{BW_ACCOUNT_ID}/subscriptions'
-U '{BANDWIDTH_USERNAME}:{BANDWIDTH:PASSWORD}'
-H "Content-Type: application/xml"
-d "<Subscription>
        <OrderType>orders</OrderType>
        <OrderId>ORDER_ID</OrderId>
        <EmailSubscription>
            <Email>your_email@gmail.com</Email>
            <DigestRequested>DAILY</DigestRequested>
        </EmailSubscription>
    </Subscription>"
```

</TabItem>
</Tabs>

## Where to next?
Now that you have learn how to search and order numbers, check out some of the available actions in the guides:
- [How to port numbers](/docs/numbers/guides/portingNumbers)