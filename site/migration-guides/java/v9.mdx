---
id: v9-beta
title: v8 -> v9-beta
slug: /java/v8->v9-beta
description: Java v8 to v9 Migration Guide
sidebar_label: v8 -> v9-beta
hide_title: false
image: '@site/static/img/bw-icon.svg'
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## Client Initialization

<Tabs groupId="java_v8_v9-beta_migration" defaultValue="v9-beta" values={[ { label: 'v8', value: 'v8', }, { label: 'v9-beta', value: 'v9-beta', } ]}>
<TabItem value="v8">

```java
BandwidthClient client = new BandwidthClient.Builder()
    .messagingBasicAuthCredentials("username", "password")
    .voiceBasicAuthCredentials("username", "password")
    .twoFactorAuthBasicAuthCredentials("username", "password")
    .webRtcBasicAuthCredentials("username", "password")
    .build();
```

</TabItem>
<TabItem value="v9-beta">

```java
ApiClient defaultClient = Configuration.getDefaultApiClient();
HttpBasicAuth Basic = (HttpBasicAuth) defaultClient.getAuthentication("Basic");
Basic.setUsername("YOUR USERNAME");
Basic.setPassword("YOUR PASSWORD");
```

</TabItem>
</Tabs>

## Messaging

### Create Message

<Tabs groupId="java_v8_v9-beta_migration" defaultValue="v9-beta" values={[ { label: 'v8', value: 'v8', }, { label: 'v9-beta', value: 'v9-beta', } ]}>
<TabItem value="v8">

```java
String to = "+15554443333";
ArrayList<String> toNumbers = new ArrayList<String>();
toNumbers.add(to);
String from = "+15553334444";
String applicationId = "3-a-b-d";
String text = "Hello from Java";

MessageRequest body = new MessageRequest();
body.setTo(toNumbers);
body.setFrom(from);
body.setText(text);
body.setApplicationId(applicationId);

ApiResponse<BandwidthMessage> createMessageResponse = messagingController.createMessage(accountId, body);
System.out.println(createMessageResponse.getResult().getMessageId());
```

</TabItem>
<TabItem value="v9-beta">

```java
MessagesApi apiInstance = new MessagesApi(defaultClient);
messageRequest.applicationId(applicationId);
messageRequest.addToItem(USER_NUMBER);
messageRequest.from(BW_NUMBER);
messageRequest.text("Sample Text");
messageRequest.addMediaItem(URI.create("https://media.jpg"));
messageRequest.tag("Hello from Java");
messageRequest.priority(PriorityEnum.DEFAULT);

try {
    Message result = apiInstance.createMessage(accountId, messageRequest);
    System.out.println(result);
} catch (ApiException e) {
    System.err.println("Exception when calling MessagesApi#createMessage");
    System.err.println("Status code: " + e.getCode());
    System.err.println("Reason: " + e.getResponseBody());
    System.err.println("Response headers: " + e.getResponseHeaders());
    e.printStackTrace();
}
```

</TabItem>
</Tabs>


### List Messages

<Tabs groupId="java_v8_v9-beta_migration" defaultValue="v9-beta" values={[ { label: 'v8', value: 'v8', }, { label: 'v9-beta', value: 'v9-beta', } ]}>
<TabItem value="v8">

```java
String bandwidthNumber = "+15554443333";
BandwidthClient client = new BandwidthClient.Builder()
    .messagingBasicAuthCredentials(USERNAME, PASSWORD)
    .build();

try {
    CompletableFuture<ApiResponse<BandwidthMessagesList>> completableFuture = client.getMessagingClient().getAPIController().getMessagesAsync(ACCOUNT_ID, null, bandwidthNumber, null, null, null, null, null, null, null);
    System.out.println(completableFuture.get().getResult());
} catch (InterruptedException | ExecutionException e) {
    System.out.println(e.getMessage());
}
```

</TabItem>
<TabItem value="v9-beta">

```java
String messageId = "9e0df4ca-b18d-40d7-a59f-82fcdf5ae8e6";
String sourceTn = "%2B15554443333";
String destinationTn = "%2B15554443333";
MessageStatusEnum messageStatus = MessageStatusEnum.fromValue("RECEIVED");
ListMessageDirectionEnum messageDirection = ListMessageDirectionEnum.fromValue("INBOUND");
String carrierName = "Verizon";
MessageTypeEnum messageType = MessageTypeEnum.fromValue("sms");
Integer errorCode = 9902;
String fromDateTime = "2022-09-14T18:20:16.000Z";
String toDateTime = "2022-09-14T18:20:16.000Z";
String sort = "sourceTn:desc";
String pageToken = "gdEewhcJLQRB5";
Integer limit = 50;

try {
    MessagesList result = apiInstance.listMessages(accountId, messageId, sourceTn, destinationTn, messageStatus, messageDirection, carrierName, messageType, errorCode, fromDateTime, toDateTime, sort, pageToken, limit);
    System.out.println(result);
} catch (ApiException e) {
    System.err.println("Exception when calling MessagesApi#listMessages");
    System.err.println("Status code: " + e.getCode());
    System.err.println("Reason: " + e.getResponseBody());
    System.err.println("Response headers: " + e.getResponseHeaders());
    e.printStackTrace();
}
```

</TabItem>
</Tabs>

## BXML

### Imports

<Tabs groupId="java_v8_v9-beta_migration" defaultValue="v9-beta" values={[ { label: 'v8', value: 'v8', }, { label: 'v9-beta', value: 'v9-beta', } ]}>
<TabItem value="v8">

```java

```

</TabItem>
<TabItem value="v9-beta">

```java

```

</TabItem>
</Tabs>
