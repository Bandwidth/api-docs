---
id: v15
title: v14 -> v15
slug: /python/v14->v15
description: Python v14 to v15 Migration Guide
sidebar_label: v14 -> v15
hide_title: false
image: '@site/static/img/bw-icon.svg'
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## Client Initialization

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
from bandwidth.bandwidth_client import BandwidthClient
from bandwidth.exceptions.api_exception import APIException

bandwidth_client = BandwidthClient(
    voice_basic_auth_user_name='username',
    voice_basic_auth_password='password',
    messaging_basic_auth_user_name='username',
    messaging_basic_auth_password='password',
    multi_factor_auth_basic_auth_user_name='username',
    multi_factor_auth_basic_auth_password='password',
    phone_number_lookup_basic_auth_user_name='username',
    phone_number_lookup_basic_auth_password='password'
)

account_id = "5500000"
```

</TabItem>
<TabItem value="v15">

```py
import bandwidth

configuration = bandwidth.Configuration(
    username = 'API_USERNAME',
    password = 'API_PASSWORD'
)
api_client = bandwidth.ApiClient(configuration)

account_id = "5500000"

```

</TabItem>
</Tabs>

## Messaging

### Create Message

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
from bandwidth.messaging.models.message_request import MessageRequest

messaging_client = bandwidth_client.messaging_client.client

body = MessageRequest()
body.application_id = "93de2206-9669-4e07-948d-329f4b722ee2"
body.to = ["+17777777777"]
body.mfrom = "+18888888888"
body.text = "Greetings!"

try:
    response = messaging_client.create_message(account_id, body)
    print(response.body.id)
    print(response.status_code)
except APIException as e:
    print(e.description)
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import messages_api
from bandwidth.model.messaging_request_error import MessagingRequestError
from bandwidth.model.create_message_request_error import CreateMessageRequestError
from bandwidth.model.message_request import MessageRequest
from bandwidth.model.message import Message

messaging_api_instance = messages_api.MessagesApi(api_client)

message_request = MessageRequest(
    application_id="93de2206-9669-4e07-948d-329f4b722ee2",
    to=["+17777777777"],
    _from="+18888888888",
    text="Greetings!"
)
try:
    api_response = api_instance.create_message(account_id, message_request)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling MessagesApi->create_message: %s\n" % e)
```

</TabItem>
</Tabs>

### List Messages

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
messaging_client = bandwidth_client.messaging_client.client

message_id = "9e0df4ca-b18d-40d7-a59f-82fcdf5ae8e6"

try:
    response = messaging_client.get_messages(BW_ACCOUNT_ID, message_id=message_id)
    print(response.body.total_count)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import messages_api

messaging_api_instance = messages_api.MessagesApi(api_client)

message_id = "9e0df4ca-b18d-40d7-a59f-82fcdf5ae8e6"

try:
    api_response = messaging_api_instance.list_messages(account_id, message_id=message_id)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling MessagesApi->list_messages: %s\n" % e)
```

</TabItem>
</Tabs>

## BXML

## Calls

### Create Call

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Get Call Information

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Update Call

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Replace Call BXML

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

## Conferences

### List Conferences

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Get Conference Information

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Update Conference

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Update Conference BXML

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Get Conference Member

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Update Conference Member

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### List Conference Recordings

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Get Conference Recording Information

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Download Conference Recording

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

## Recordings

### Get Call Recordings

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Update Recording

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### List Call Recordings

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Get Call Recording

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Delete Recording

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Download Recording

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Delete Recording Media

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Get Transcription

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Create Transcription Request

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Delete Transcription

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

## Statistics

### Get Account Statisics

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

## Telephone Number Lookup

### Create Lookup

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
from bandwidth.phonenumberlookup.models.order_request import OrderRequest

phone_number_lookup_client = bandwidth_client.phone_number_lookup_client.client

body = OrderRequest()
body.tns = ["+15554443333"]

try:
    response = phone_number_lookup_client.create_lookup_request(account_id, body)
    print(response.body.request_id)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.model.lookup_request import LookupRequest

phone_number_lookup_api_instance = phone_number_lookup_api.PhoneNumberLookupApi(api_client)
lookup_request = LookupRequest(
    tns=["+15554443333"],
)

try:
    api_response = api_instance.create_lookup(account_id, lookup_request)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling PhoneNumberLookupApi->create_lookup: %s\n" % e)
```

</TabItem>
</Tabs>

### Get Lookup Request Status

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
phone_number_lookup_client = bandwidth_client.phone_number_lookup_client.client

request_id = "004223a0-8b17-41b1-bf81-20732adf5590"

try:
    response = phone_number_lookup_client.get_lookup_request_status(BW_ACCOUNT_ID, request_id)
    print(response.body.status)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
phone_number_lookup_api_instance = phone_number_lookup_api.PhoneNumberLookupApi(api_client)

request_id = "004223a0-8b17-41b1-bf81-20732adf5590"

try:
    api_response = api_instance.get_lookup_status(account_id, request_id)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling PhoneNumberLookupApi->get_lookup_status: %s\n" % e)
```

</TabItem>
</Tabs>

## Multi-Factor Authentication

### Voice MFA Code

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
from bandwidth.multifactorauth.models.two_factor_code_request_schema import TwoFactorCodeRequestSchema

mfa_client = bandwidth_client.multi_factor_auth_client.mfa

body = TwoFactorCodeRequestSchema(
    mfrom = "+15554443333",
    to = "+15553334444",
    application_id = "66fd98ae-ac8d-a00f-7fcd-ba3280aeb9b1",
    scope = "2FA",
    digits = 6,
    message = "Your temporary {NAME} {SCOPE} code is {CODE}"
)

try:
    auth_client.create_voice_two_factor(account_id, body)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import mfa_api
from bandwidth.model.code_request import CodeRequest

mfa_api_instance = mfa_api.MFAApi(api_client)

code_request = CodeRequest(
    to="+15553334444",
    _from="+15554443333",
    application_id="66fd98ae-ac8d-a00f-7fcd-ba3280aeb9b1",
    scope="2FA",
    message="Your temporary {NAME} {SCOPE} code is {CODE}",
    digits=6,
)

try:
    api_response = api_instance.generate_voice_code(account_id, code_request)
    pprint(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling MFAApi->generate_messaging_code: %s\n" % e)
```

</TabItem>
</Tabs>

### Messaging MFA Code

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
from bandwidth.multifactorauth.models.two_factor_code_request_schema import TwoFactorCodeRequestSchema

mfa_client = bandwidth_client.multi_factor_auth_client.mfa

body = TwoFactorCodeRequestSchema(
    mfrom = "+15554443333",
    to = "+15553334444",
    application_id = "66fd98ae-ac8d-a00f-7fcd-ba3280aeb9b1",
    scope = "2FA",
    digits = 6,
    message = "Your temporary {NAME} {SCOPE} code is {CODE}"
)

try:
    auth_client.create_messaging_two_factor(account_id, body)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import mfa_api
from bandwidth.model.code_request import CodeRequest

mfa_api_instance = mfa_api.MFAApi(api_client)

code_request = CodeRequest(
    to="+15553334444",
    _from="+15554443333",
    application_id="66fd98ae-ac8d-a00f-7fcd-ba3280aeb9b1",
    scope="2FA",
    message="Your temporary {NAME} {SCOPE} code is {CODE}",
    digits=6,
)

try:
    api_response = api_instance.generate_messaging_code(account_id, code_request)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling MFAApi->generate_messaging_code: %s\n" % e)
```

</TabItem>
</Tabs>

### Verify MFA Code

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
from bandwidth.multifactorauth.models.two_factor_verify_request_schema import TwoFactorVerifyRequestSchema

auth_client = bandwidth_client.multi_factor_auth_client.mfa

body = TwoFactorVerifyRequestSchema(
    to = USER_NUMBER,
    application_id = "66fd98ae-ac8d-a00f-7fcd-ba3280aeb9b1",
    scope = "2FA",
    code = "123456", #This is the user's input to validate
    expiration_time_in_minutes = 3
)

try:
    response = auth_client.create_verify_two_factor(BW_ACCOUNT_ID, body)
    print(response.body.valid)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import mfa_api
from bandwidth.model.code_request import CodeRequest

mfa_api_instance = mfa_api.MFAApi(api_client)

verify_code_request = VerifyCodeRequest(
    to="+19195551234",
    scope="2FA",
    expiration_time_in_minutes=3,
    code="123456",
)

# example passing only required values which don't have defaults set
try:
    api_response = api_instance.verify_code(account_id, verify_code_request)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling MFAApi->verify_code: %s\n" % e)
```

</TabItem>
</Tabs>
