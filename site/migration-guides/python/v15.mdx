---
id: v15
title: v14 -> v15
slug: /python/v14->v15
description: Python v14 to v15 Migration Guide
sidebar_label: v14 -> v15
hide_title: false
image: '@site/static/img/bw-icon.svg'
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## Client Initialization

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
from bandwidth.bandwidth_client import BandwidthClient
from bandwidth.exceptions.api_exception import APIException

bandwidth_client = BandwidthClient(
    voice_basic_auth_user_name='username',
    voice_basic_auth_password='password',
    messaging_basic_auth_user_name='username',
    messaging_basic_auth_password='password',
    multi_factor_auth_basic_auth_user_name='username',
    multi_factor_auth_basic_auth_password='password',
    phone_number_lookup_basic_auth_user_name='username',
    phone_number_lookup_basic_auth_password='password'
)

account_id = "5500000"
```

</TabItem>
<TabItem value="v15">

```py
import bandwidth

configuration = bandwidth.Configuration(
    username = 'API_USERNAME',
    password = 'API_PASSWORD'
)
api_client = bandwidth.ApiClient(configuration)

account_id = "5500000"
```

</TabItem>
</Tabs>

## Messaging

### Create Message

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
from bandwidth.messaging.models.message_request import MessageRequest

messaging_client = bandwidth_client.messaging_client.client

body = MessageRequest()
body.application_id = "93de2206-9669-4e07-948d-329f4b722ee2"
body.to = ["+17777777777"]
body.mfrom = "+18888888888"
body.text = "Greetings!"

try:
    response = messaging_client.create_message(account_id, body)
    print(response.body.id)
    print(response.status_code)
except APIException as e:
    print(e.description)
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import messages_api
from bandwidth.model.messaging_request_error import MessagingRequestError
from bandwidth.model.create_message_request_error import CreateMessageRequestError
from bandwidth.model.message_request import MessageRequest
from bandwidth.model.message import Message

messaging_api_instance = messages_api.MessagesApi(api_client)

message_request = MessageRequest(
    application_id="93de2206-9669-4e07-948d-329f4b722ee2",
    to=["+17777777777"],
    _from="+18888888888",
    text="Greetings!"
)
try:
    api_response = api_instance.create_message(account_id, message_request)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling MessagesApi->create_message: %s\n" % e)
```

</TabItem>
</Tabs>

### List Messages

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
messaging_client = bandwidth_client.messaging_client.client

message_id = "9e0df4ca-b18d-40d7-a59f-82fcdf5ae8e6"

try:
    response = messaging_client.get_messages(BW_ACCOUNT_ID, message_id=message_id)
    print(response.body.total_count)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import messages_api

messaging_api_instance = messages_api.MessagesApi(api_client)

message_id = "9e0df4ca-b18d-40d7-a59f-82fcdf5ae8e6"

try:
    api_response = messaging_api_instance.list_messages(account_id, message_id=message_id)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling MessagesApi->list_messages: %s\n" % e)
```

</TabItem>
</Tabs>

## BXML

## Calls

### Create Call

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
from bandwidth.voice.models.create_call_request import CreateCallRequest

bandwidth_client = BandwidthClient(
    voice_basic_auth_user_name=BW_USERNAME,
    voice_basic_auth_password=BW_PASSWORD
)
voice_client = bandwidth_client.voice_client.client

body = CreateCallRequest()
body.application_id = BW_VOICE_APPLICATION_ID
body.to = "+19195551234"
body.mfrom = "+19195554321"
body.answer_url = "https://www.myCallbackServer.com/webhooks/answer"
try:
    response = voice_client.create_call(account_id, body)
    print(response.body.call_id)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import calls_api

calls_api_instance = calls_api.CallsApi(api_client)

create_call = CreateCall(
    to="+19195551234",
    _from="+19195554321",
    application_id="1234-qwer-5679-tyui",
    answer_url="https://www.myCallbackServer.com/webhooks/answer",
)

try:
    api_response = calls_api_instance.create_call(account_id, create_call)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling CallsApi->create_call: %s\n" % e)
```

</TabItem>
</Tabs>

### Get Call Information

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
voice_client = bandwidth_client.voice_client.client

call_id = "c-15ac29a2-1331029c-2cb0-4a07-b215-b22865662d85"

try:
    result = voice_client.get_call(BW_ACCOUNT_ID, call_id)
    print(result.body.state)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import calls_api

calls_api_instance = calls_api.CallsApi(api_client)

call_id = "c-15ac29a2-1331029c-2cb0-4a07-b215-b22865662d85"

try:
    api_response = calls_api_instance.get_call_state(account_id, call_id)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling CallsApi->get_call_state: %s\n" % e)
```

</TabItem>
</Tabs>

### Update Call

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
from bandwidth.voice.models.modify_call_request import ModifyCallRequest

voice_client = bandwidth_client.voice_client.client

call_id = "c-15ac29a2-1331029c-2cb0-4a07-b215-b22865662d85"

body = ModifyCallRequest()
body.redirect_url = "https://myServer.com/bandwidth/webhooks/redirect"
body.state = "active"

try:
    voice_client.modify_call(account_id, call_id, body)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import calls_api
from bandwidth.model.update_call import UpdateCall
from bandwidth.model.call_state_enum import CallStateEnum

calls_api_instance = calls_api.CallsApi(api_client)
call_id = "c-15ac29a2-1331029c-2cb0-4a07-b215-b22865662d85"

update_call = UpdateCall(
    state=CallStateEnum("active"),
    redirect_url="https://myServer.com/bandwidth/webhooks/redirect",
)

try:
    calls_api_instance.update_call(account_id, call_id, update_call)
except bandwidth.ApiException as e:
    print("Exception when calling CallsApi->update_call: %s\n" % e)
```

</TabItem>
</Tabs>

### Replace Call BXML

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
from bandwidth.voice.bxml.bxml import Bxml
from bandwidth.voice.bxml.verbs import *

voice_client = bandwidth_client.voice_client.client

call_id = "c-15ac29a2-1331029c-2cb0-4a07-b215-b22865662d85"

bxml = Bxml()
speak_sentence = SpeakSentence(
    sentence="This is a test.",
    voice="julie"
)

bxml.add_verb(speak_sentence)

try:
    voice_client.modify_call_bxml(account_id, call_id, bxml.to_bxml())
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import calls_api
from bandwidth.model.bxml.bxml import Bxml
from bandwidth.model.bxml.verbs import SpeakSentence

calls_api_instance = calls_api.CallsApi(api_client)

call_id = "c-15ac29a2-1331029c-2cb0-4a07-b215-b22865662d85"

bxml = Bxml()
speak_sentence = SpeakSentence(
    text='This is a test.',
    voice="julie"
)

bxml.add_verb(speak_sentence)

# example passing only required values which don't have defaults set
try:
    api_instance.update_call_bxml(account_id, call_id, bxml.to_bxml())
except bandwidth.ApiException as e:
    print("Exception when calling CallsApi->update_call_bxml: %s\n" % e)
```

</TabItem>
</Tabs>

## Conferences

### List Conferences

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
voice_client = bandwidth_client.voice_client.client

try:
    response = voice_client.get_conferences(account_id)
    if len(response.body) > 0:
        print(response.body[0].id)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import conferences_api

conferences_api_instance = conferences_api.ConferencesApi(api_client)

try:
    api_response = conferences_api_instance.list_conferences(account_id)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling ConferencesApi->list_conferences: %s\n" % e)
```

</TabItem>
</Tabs>

### Get Conference Information

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
voice_client = bandwidth_client.voice_client.client

conference_id = "conf-fe23a767-a75a5b77-20c5-4cca-b581-cbbf0776eca9"

try:
    response = voice_client.get_conference(account_id, conference_id)
    print(response.body.name)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import conferences_api

conferences_api_instance = conferences_api.ConferencesApi(api_client)

conference_id = "conf-fe23a767-a75a5b77-20c5-4cca-b581-cbbf0776eca9"

try:
    api_response = conferences_api_instance.get_conference(account_id, conference_id)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling ConferencesApi->get_conference: %s\n" % e)
```

</TabItem>
</Tabs>

### Update Conference

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
from bandwidth.voice.models.modify_conference_request import ModifyConferenceRequest
from bandwidth.voice.models.status_enum import StatusEnum

voice_client = bandwidth_client.voice_client.client

body = ModifyConferenceRequest()
body.status = StatusEnum.ACTIVE
body.redirect_url = "https://myServer.com/bandwidth/webhooks/conferenceRedirect"

conference_id = "conf-1234"

try:
    voice_client.modify_conference(BW_ACCOUNT_ID, conference_id, body)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import conferences_api
from bandwidth.model.update_conference import UpdateConference
from bandwidth.model.conference_state_enum import ConferenceStateEnum

conferences_api_instance = conferences_api.ConferencesApi(api_client)

conference_id = "conf-fe23a767-a75a5b77-20c5-4cca-b581-cbbf0776eca9"
update_conference = UpdateConference(
    status=ConferenceStateEnum("active"),
    redirect_url="https://myServer.com/bandwidth/webhooks/conferenceRedirect"
)

try:
    conferences_api_instance.update_conference(account_id, conference_id, update_conference)
except bandwidth.ApiException as e:
    print("Exception when calling ConferencesApi->update_conference: %s\n" % e)
```

</TabItem>
</Tabs>

### Update Conference BXML

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```
N/A - Not implemented
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import conferences_api

conferences_api_instance = conferences_api.ConferencesApi(api_client)

conference_id = "conf-fe23a767-a75a5b77-20c5-4cca-b581-cbbf0776eca9"

bxml = Bxml()
speak_sentence = SpeakSentence(
    text='This is a test.',
    voice="julie"
)

bxml.add_verb(speak_sentence)

try:
    conferences_api_instance.update_conference_bxml(account_id, conference_id, bxml.to_bxml())
except bandwidth.ApiException as e:
    print("Exception when calling ConferencesApi->update_conference_bxml: %s\n" % e)
```

</TabItem>
</Tabs>

### Get Conference Member

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
voice_client = bandwidth_client.voice_client.client

conference_id = "conf-fe23a767-a75a5b77-20c5-4cca-b581-cbbf0776eca9"
member_id = "c-15ac29a2-1331029c-2cb0-4a07-b215-b22865662d85"

try:
    response = voice_client.get_conference_member(BW_ACCOUNT_ID, conference_id, member_id)
    print(response.body.member_url)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import conferences_api

conferences_api_instance = conferences_api.ConferencesApi(api_client)

conference_id = "conf-fe23a767-a75a5b77-20c5-4cca-b581-cbbf0776eca9"
member_id = "c-15ac29a2-1331029c-2cb0-4a07-b215-b22865662d85"

# example passing only required values which don't have defaults set
try:
    api_response = conferences_api_instance.get_conference_member(account_id, conference_id, member_id)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling ConferencesApi->get_conference_member: %s\n" % e)
```

</TabItem>
</Tabs>

### Update Conference Member

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
voice_client = bandwidth_client.voice_client.client

conference_id = "conf-1234"
call_id = "c-1234"

body = ConferenceMemberState()
body.mute = True

try:
    voice_client.modify_conference_member(BW_ACCOUNT_ID, conference_id, call_id, body)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import conferences_api
from bandwidth.model.update_conference_member import UpdateConferenceMember

conferences_api_instance = conferences_api.ConferencesApi(api_client)

conference_id = "conf-fe23a767-a75a5b77-20c5-4cca-b581-cbbf0776eca9"
member_id = "c-15ac29a2-1331029c-2cb0-4a07-b215-b22865662d85"

update_conference_member = UpdateConferenceMember(
    mute=False,
    hold=False,
    call_ids_to_coach=["c-25ac29a2-1331029c-2cb0-4a07-b215-b22865662d85"],
)

try:
    api_instance.update_conference_member(account_id, conference_id, member_id, update_conference_member)
except bandwidth.ApiException as e:
    print("Exception when calling ConferencesApi->update_conference_member: %s\n" % e)
```

</TabItem>
</Tabs>

### List Conference Recordings

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
voice_client = bandwidth_client.voice_client.client

conference_id = "conf-fe23a767-a75a5b77-20c5-4cca-b581-cbbf0776eca9"

try:
    response = voice_client.get_conference_recordings(BW_ACCOUNT_ID, conference_id)
    if len(response.body) > 0:
        print(response.body[0].name)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import conferences_api

conferences_api_instance = conferences_api.ConferencesApi(api_client)

conference_id = "conf-fe23a767-a75a5b77-20c5-4cca-b581-cbbf0776eca9"

try:
    api_response = conferences_api_instance.list_conference_recordings(account_id, conference_id)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling ConferencesApi->list_conference_recordings: %s\n" % e)
```

</TabItem>
</Tabs>

### Get Conference Recording Information

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
voice_client = bandwidth_client.voice_client.client

conference_id = "conf-fe23a767-a75a5b77-20c5-4cca-b581-cbbf0776eca9"
recording_id = "r-15ac29a2-1331029c-2cb0-4a07-b215-b22865662d85"

try:
    response = voice_client.get_conference_recording(BW_ACCOUNT_ID, conference_id, recording_id)
    print(response.body.application_id)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import conferences_api

conferences_api_instance = conferences_api.ConferencesApi(api_client)

conference_id = "conf-fe23a767-a75a5b77-20c5-4cca-b581-cbbf0776eca9"
recording_id = "r-15ac29a2-1331029c-2cb0-4a07-b215-b22865662d85"

try:
    api_response = conferences_api_instance.get_conference_recording(account_id, conference_id, recording_id)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling ConferencesApi->get_conference_recording: %s\n" % e)
```

</TabItem>
</Tabs>

### Download Conference Recording

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
voice_client = bandwidth_client.voice_client.client

conference_id = "conf-fe23a767-a75a5b77-20c5-4cca-b581-cbbf0776eca9"
recording_id = "r-15ac29a2-1331029c-2cb0-4a07-b215-b22865662d85"

try:
    response = voice_client.get_download_conference_recording(BW_ACCOUNT_ID, conference_id, recording_id)
    downloaded_recording = response.body
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import conferences_api

conferences_api_instance = conferences_api.ConferencesApi(api_client)

conference_id = "conf-fe23a767-a75a5b77-20c5-4cca-b581-cbbf0776eca9"
recording_id = "r-15ac29a2-1331029c-2cb0-4a07-b215-b22865662d85"

try:
    api_response = api_instance.download_conference_recording(account_id, conference_id, recording_id)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling ConferencesApi->download_conference_recording: %s\n" % e)
```

</TabItem>
</Tabs>

## Recordings

### Get Call Recordings

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Update Recording

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### List Call Recordings

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Get Call Recording

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Delete Recording

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Download Recording

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Delete Recording Media

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Get Transcription

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Create Transcription Request

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

### Delete Transcription

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

## Statistics

### Get Account Statisics

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
```

</TabItem>
<TabItem value="v15">

```py
```

</TabItem>
</Tabs>

## Telephone Number Lookup

### Create Lookup

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
from bandwidth.phonenumberlookup.models.order_request import OrderRequest

phone_number_lookup_client = bandwidth_client.phone_number_lookup_client.client

body = OrderRequest()
body.tns = ["+15554443333"]

try:
    response = phone_number_lookup_client.create_lookup_request(account_id, body)
    print(response.body.request_id)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.model.lookup_request import LookupRequest

phone_number_lookup_api_instance = phone_number_lookup_api.PhoneNumberLookupApi(api_client)
lookup_request = LookupRequest(
    tns=["+15554443333"],
)

try:
    api_response = api_instance.create_lookup(account_id, lookup_request)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling PhoneNumberLookupApi->create_lookup: %s\n" % e)
```

</TabItem>
</Tabs>

### Get Lookup Request Status

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
phone_number_lookup_client = bandwidth_client.phone_number_lookup_client.client

request_id = "004223a0-8b17-41b1-bf81-20732adf5590"

try:
    response = phone_number_lookup_client.get_lookup_request_status(BW_ACCOUNT_ID, request_id)
    print(response.body.status)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
phone_number_lookup_api_instance = phone_number_lookup_api.PhoneNumberLookupApi(api_client)

request_id = "004223a0-8b17-41b1-bf81-20732adf5590"

try:
    api_response = api_instance.get_lookup_status(account_id, request_id)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling PhoneNumberLookupApi->get_lookup_status: %s\n" % e)
```

</TabItem>
</Tabs>

## Multi-Factor Authentication

### Voice MFA Code

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
from bandwidth.multifactorauth.models.two_factor_code_request_schema import TwoFactorCodeRequestSchema

mfa_client = bandwidth_client.multi_factor_auth_client.mfa

body = TwoFactorCodeRequestSchema(
    mfrom = "+15554443333",
    to = "+15553334444",
    application_id = "66fd98ae-ac8d-a00f-7fcd-ba3280aeb9b1",
    scope = "2FA",
    digits = 6,
    message = "Your temporary {NAME} {SCOPE} code is {CODE}"
)

try:
    auth_client.create_voice_two_factor(account_id, body)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import mfa_api
from bandwidth.model.code_request import CodeRequest

mfa_api_instance = mfa_api.MFAApi(api_client)

code_request = CodeRequest(
    to="+15553334444",
    _from="+15554443333",
    application_id="66fd98ae-ac8d-a00f-7fcd-ba3280aeb9b1",
    scope="2FA",
    message="Your temporary {NAME} {SCOPE} code is {CODE}",
    digits=6,
)

try:
    api_response = api_instance.generate_voice_code(account_id, code_request)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling MFAApi->generate_messaging_code: %s\n" % e)
```

</TabItem>
</Tabs>

### Messaging MFA Code

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
from bandwidth.multifactorauth.models.two_factor_code_request_schema import TwoFactorCodeRequestSchema

mfa_client = bandwidth_client.multi_factor_auth_client.mfa

body = TwoFactorCodeRequestSchema(
    mfrom = "+15554443333",
    to = "+15553334444",
    application_id = "66fd98ae-ac8d-a00f-7fcd-ba3280aeb9b1",
    scope = "2FA",
    digits = 6,
    message = "Your temporary {NAME} {SCOPE} code is {CODE}"
)

try:
    auth_client.create_messaging_two_factor(account_id, body)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import mfa_api
from bandwidth.model.code_request import CodeRequest

mfa_api_instance = mfa_api.MFAApi(api_client)

code_request = CodeRequest(
    to="+15553334444",
    _from="+15554443333",
    application_id="66fd98ae-ac8d-a00f-7fcd-ba3280aeb9b1",
    scope="2FA",
    message="Your temporary {NAME} {SCOPE} code is {CODE}",
    digits=6,
)

try:
    api_response = api_instance.generate_messaging_code(account_id, code_request)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling MFAApi->generate_messaging_code: %s\n" % e)
```

</TabItem>
</Tabs>

### Verify MFA Code

<Tabs groupId="python_v14_v15_migration" defaultValue="v15" values={[ { label: 'v14', value: 'v14', }, { label: 'v15', value: 'v15', } ]}>
<TabItem value="v14">

```py
from bandwidth.multifactorauth.models.two_factor_verify_request_schema import TwoFactorVerifyRequestSchema

auth_client = bandwidth_client.multi_factor_auth_client.mfa

body = TwoFactorVerifyRequestSchema(
    to = USER_NUMBER,
    application_id = "66fd98ae-ac8d-a00f-7fcd-ba3280aeb9b1",
    scope = "2FA",
    code = "123456", #This is the user's input to validate
    expiration_time_in_minutes = 3
)

try:
    response = auth_client.create_verify_two_factor(BW_ACCOUNT_ID, body)
    print(response.body.valid)
except APIException as e:
    print(e.response_code)
```

</TabItem>
<TabItem value="v15">

```py
from bandwidth.api import mfa_api
from bandwidth.model.code_request import CodeRequest

mfa_api_instance = mfa_api.MFAApi(api_client)

verify_code_request = VerifyCodeRequest(
    to="+19195551234",
    scope="2FA",
    expiration_time_in_minutes=3,
    code="123456",
)

# example passing only required values which don't have defaults set
try:
    api_response = api_instance.verify_code(account_id, verify_code_request)
    print(api_response)
except bandwidth.ApiException as e:
    print("Exception when calling MFAApi->verify_code: %s\n" % e)
```

</TabItem>
</Tabs>
